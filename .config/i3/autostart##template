#!/bin/sh
. "$HOME/.profile"
/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
cat "$XDG_CONFIG_HOME/X11/$(cat "$XDG_DATA_HOME/mode/active")" | xrdb -override &
polybar &
rwall &
picom -b
xbanish &
dunst &
autocutsel &
fcitx5 -d
xbindkeys -f "$XDG_CONFIG_HOME/xbindkeys/main"
{% if yadm.hostname == "thoncc" %}
xdimmer -t 45 -p 3 &
light-locker --no-late-locking &
{% else %}
redshift -l 52:6 &
nicotine &
{% endif %}
flashfocus &

# store bitwarden session token using keyctl
{
	keyctl purge user bw_session
	bw unlock --passwordenv BITWARDEN_MASTER_PASSWORD --raw | keyctl padd user bw_session @u
} &

# auto start lazy script after everything else
[ -f "$HOME/do.sh" ] && . "$HOME/do.sh"

