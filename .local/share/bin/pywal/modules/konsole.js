var fs = require('fs');
var path = require('path');
var Color = require('color');

module.exports = colors => {
	var generateColorString = color => `Color=${Color(color).rgb().array().join(',')}`;
	var config = [
		`[Background]`,
		generateColorString(colors.special.background),
		``,
		`[BackgroundIntense]`,
		generateColorString(colors.special.background),
		``,
		`[Color0]`,
		generateColorString(colors.special.background),
		``,
		`[Color0Intense]`,
		generateColorString(colors.special.autoReadable.color8),
		``,
		`[Color1]`,
		generateColorString(colors.special.autoReadable.color1),
		``,
		`[Color1Intense]`,
		generateColorString(colors.special.autoReadable.color9),
		``,
		`[Color2]`,
		generateColorString(colors.special.autoReadable.color2),
		``,
		`[Color2Intense]`,
		generateColorString(colors.special.autoReadable.color10),
		``,
		`[Color3]`,
		generateColorString(colors.special.autoReadable.color3),
		``,
		`[Color3Intense]`,
		generateColorString(colors.special.autoReadable.color11),
		``,
		`[Color4]`,
		generateColorString(colors.special.autoReadable.color4),
		``,
		`[Color4Intense]`,
		generateColorString(colors.special.autoReadable.color12),
		``,
		`[Color5]`,
		generateColorString(colors.special.autoReadable.color5),
		``,
		`[Color5Intense]`,
		generateColorString(colors.special.autoReadable.color13),
		``,
		`[Color6]`,
		generateColorString(colors.special.autoReadable.color6),
		``,
		`[Color6Intense]`,
		generateColorString(colors.special.autoReadable.color14),
		``,
		`[Color7]`,
		generateColorString(colors.special.autoReadable.color7),
		``,
		`[Color7Intense]`,
		generateColorString(colors.special.autoReadable.color15),
		``,
		`[Foreground]`,
		generateColorString(colors.special.foreground),
		``,
		`[ForegroundIntense]`,
		generateColorString(colors.special.foreground),
		``,
		`[General]`,
		`Description=Colorscheme generated by wal`,
		`Opacity=0.92`
	].join('\n');

	fs.writeFileSync(path.join(process.env.HOME, '/.cache/wal/colors-konsole.colorscheme'), config)
}
